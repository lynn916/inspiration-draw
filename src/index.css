@tailwind base;
@tailwind components;
@tailwind utilities;

/* 灵感抽卡机 Design System - Warm Paper & Ink Aesthetic */

@layer base {
  :root {
    --background: 39 32% 96%;
    --foreground: 25 25% 15%;

    --card: 39 35% 94%;
    --card-foreground: 25 25% 15%;

    --popover: 39 35% 98%;
    --popover-foreground: 25 25% 15%;

    --primary: 25 30% 25%;
    --primary-foreground: 39 35% 96%;

    --secondary: 39 20% 88%;
    --secondary-foreground: 25 25% 20%;

    --muted: 39 15% 90%;
    --muted-foreground: 25 15% 45%;

    --accent: 39 25% 85%;
    --accent-foreground: 25 25% 15%;

    --destructive: 0 65% 50%;
    --destructive-foreground: 0 0% 100%;

    --border: 25 20% 82%;
    --input: 25 20% 85%;
    --ring: 45 80% 50%;

    --radius: 0.5rem;

    /* Rarity Colors */
    --rarity-ssr: 45 90% 50%;
    --rarity-ssr-glow: 45 100% 60%;
    --rarity-sr: 280 60% 55%;
    --rarity-r: 210 60% 50%;
    --rarity-n: 25 10% 55%;

    /* Card Back */
    --card-back: 25 35% 30%;
    --card-back-pattern: 25 30% 25%;

    /* SSR Shimmer */
    --ssr-shimmer: 45 95% 55%;
  }

  .dark {
    --background: 25 25% 10%;
    --foreground: 39 30% 90%;

    --card: 25 25% 14%;
    --card-foreground: 39 30% 90%;

    --popover: 25 25% 12%;
    --popover-foreground: 39 30% 90%;

    --primary: 45 80% 55%;
    --primary-foreground: 25 25% 10%;

    --secondary: 25 20% 20%;
    --secondary-foreground: 39 30% 85%;

    --muted: 25 20% 18%;
    --muted-foreground: 39 15% 55%;

    --accent: 25 25% 22%;
    --accent-foreground: 39 30% 90%;

    --destructive: 0 62% 45%;
    --destructive-foreground: 0 0% 100%;

    --border: 25 20% 22%;
    --input: 25 20% 22%;
    --ring: 45 80% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: "Noto Serif SC", "Source Han Serif CN", Georgia, serif;
  }
}

@layer utilities {
  /* SSR Breathing Animation */
  @keyframes ssr-breathe {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }
  
  .ssr-breathe {
    animation: ssr-breathe 2.4s ease-in-out infinite;
  }
  
  .ssr-breathe-reduced {
    opacity: 1;
    animation: none;
  }

  /* Card Flip Animation */
  @keyframes card-flip {
    0% { transform: rotateY(0deg); }
    100% { transform: rotateY(180deg); }
  }
  
  .card-flip {
    animation: card-flip 0.6s ease-out forwards;
    transform-style: preserve-3d;
  }

  /* Golden Reveal Overlay */
  @keyframes golden-pulse {
    0%, 100% { 
      box-shadow: 0 0 20px hsl(45 90% 50% / 0.6), 
                  0 0 40px hsl(45 90% 50% / 0.4),
                  inset 0 0 20px hsl(45 90% 50% / 0.3);
    }
    50% { 
      box-shadow: 0 0 40px hsl(45 90% 50% / 0.8), 
                  0 0 60px hsl(45 90% 50% / 0.6),
                  inset 0 0 30px hsl(45 90% 50% / 0.5);
    }
  }
  
  .golden-overlay {
    animation: golden-pulse 1s ease-in-out infinite;
  }

  /* Fade In */
  @keyframes fade-slide-in {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .fade-slide-in {
    animation: fade-slide-in 0.3s ease-out forwards;
  }

  /* Rarity Backgrounds */
  .rarity-ssr {
    background: linear-gradient(135deg, hsl(45 90% 50%), hsl(35 85% 45%), hsl(45 95% 55%));
    color: hsl(25 25% 10%);
  }
  
  .rarity-sr {
    background: linear-gradient(135deg, hsl(280 60% 55%), hsl(290 55% 50%));
    color: white;
  }
  
  .rarity-r {
    background: linear-gradient(135deg, hsl(210 60% 50%), hsl(220 55% 45%));
    color: white;
  }
  
  .rarity-n {
    background: hsl(25 10% 55%);
    color: white;
  }

  /* Card Back Pattern */
  .card-back-pattern {
    background: 
      repeating-linear-gradient(
        45deg,
        hsl(var(--card-back)) 0px,
        hsl(var(--card-back)) 2px,
        hsl(var(--card-back-pattern)) 2px,
        hsl(var(--card-back-pattern)) 4px
      );
  }
}
